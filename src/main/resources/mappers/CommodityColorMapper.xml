<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.CommodityColorMapper">
    <resultMap id="BaseResultMap" type="com.pojo.CommodityColor">
        <id     column="cid"        jdbcType="INTEGER"  property="cid"   />
        <result column="n1"           jdbcType="VARCHAR"      property="n1" />
        <result column="n2"         jdbcType="INTEGER"    property="n2" />
        <result column="n3"          jdbcType="VARCHAR"    property="n3" />
        <result column="comid"       jdbcType="INTEGER"    property="comid" />
        <result column="img"           jdbcType="VARCHAR"      property="img" />
        <result column="previmg"       jdbcType="VARCHAR"    property="previmg" />
        <result column="cpid"          jdbcType="INTEGER"    property="cpid"/>
        <result column="isimg"       jdbcType="TINYINT"      property="isimg"  />
    </resultMap>
    <resultMap id="ShoppingcatMap"  type="com.pojo.ShoppingCat" >
        <id     column="commodityid"        jdbcType="INTEGER"      property="commodityid"/>
        <result column="commoditycolor"     jdbcType="VARCHAR"      property="commoditycolor"/>
        <result column="commoditysum"       jdbcType="INTEGER"      property="commoditysum"/>
        <result column="commodguige"        jdbcType="VARCHAR"      property="commodguige"/>
        <result column="comid"              property="comid"        jdbcType="INTEGER"/>
        <result column="commcolor"         property="commcolor"     jdbcType="VARCHAR"/>
        <result column="commodstatus"       property="commodstatus" jdbcType="INTEGER"/>
        <result column="upid"               property="upid"         jdbcType="INTEGER"/>
        <result column="uid"                property="uid"          jdbcType="INTEGER"/>
        <result column="price"              property="price"        jdbcType="DECIMAL"/>
        <result column="udate"              property="udate"        jdbcType="DATE"/>
        <result column="onid"               property="onid"         jdbcType="VARCHAR"/>
        <association property="shoppingcat" resultMap="BaseResultMap"/>
    </resultMap>
    <select id="getCommodityColor" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        select * from
            commoditycolor where comid=#{comid}
    </select>

    <select id="getCommodityColorById" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        SELECT cc.*,ci.* FROM commoditycolor as cc ,commodityguige as ci
        where cc.cid=ci.gg2  and ci.id=#{id}
    </select>

</mapper>
